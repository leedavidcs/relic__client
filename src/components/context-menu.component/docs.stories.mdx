import { Meta, Preview, Props, Story } from "@storybook/addon-docs/blocks";
import { themes } from "@storybook/theming";
import { StandardStory } from "./stories"
import { ContextMenu } from ".";

<Meta
	title="general/context-menu"
	component={ContextMenu}
	parameters={{
		options: {
			theme: themes.dark
		}
	}}
/>

# ContextMenu

- [Table of contents](#contextmenu)
  * [Description](#description)
  * [Props](#props)
  * [StandardStory](#standardstory)
    + [Source](#source)

## Description
Am uncontrolled right-click (context menu) component.

This component must have ClickOutsideProvider wrapped around, for closing behavior.

If this component has ContextMenuProvider wrapped around, only 1 ContextMenu will be open at a time
under that provider.

## Props
<Props of={ContextMenu} />

## StandardStory
<Preview>
	<Story name="standard">
		<StandardStory />
	</Story>
</Preview>

### Source
```tsx
import { ContextMenu } from "@/components/context-menu.component";
import { Paper } from "@/components/paper.component";
import { action } from "@storybook/addon-actions";
import React, { useCallback } from "react";
import { useStyles } from "./styles";

const MENU_SIZE = 120;
const PAPER_SIZE = 200;

export const StandardStory = () => {
	const classes = useStyles({ menuSize: MENU_SIZE, clickAreaSize: PAPER_SIZE });

	const onClose0 = useCallback(action("onClose0"), []);
	const onClose1 = useCallback(action("onClose1"), []);
	const onOpen0 = useCallback(action("onOpen0"), []);
	const onOpen1 = useCallback(action("onOpen1"), []);

	return (
		<div className={classes.root}>
			<div className={classes.wrapper}>
				<ContextMenu
					menu={<div className={classes.menu1} />}
					onClose={onClose0}
					onOpen={onOpen0}
				>
					<Paper>
						<div className={classes.clickArea} />
					</Paper>
				</ContextMenu>
			</div>
			<div className={classes.wrapper}>
				<ContextMenu
					menu={<div className={classes.menu2} />}
					onClose={onClose1}
					onOpen={onOpen1}
				>
					<Paper>
						<div className={classes.clickArea} />
					</Paper>
				</ContextMenu>
			</div>
		</div>
	);
};
```
